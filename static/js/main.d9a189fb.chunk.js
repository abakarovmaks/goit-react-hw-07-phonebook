(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(t,n,e){t.exports={form:"ContactForm_form__2IF4m",input:"ContactForm_input__3dHde",btn:"ContactForm_btn__tShh_",container:"ContactForm_container__jcN59"}},14:function(t,n,e){t.exports={list:"ContactList_list__2cE9S",contact:"ContactList_contact__2n-Pp",name:"ContactList_name__2vs56",number:"ContactList_number__3h_Jg",btn:"ContactList_btn__2-jnR"}},35:function(t,n,e){t.exports={container:"Container_container__3e1Mh"}},52:function(t,n,e){},53:function(t,n,e){},73:function(t,n,e){},74:function(t,n,e){},75:function(t,n,e){},76:function(t,n,e){"use strict";e.r(n);var c=e(0),a=e(9),r=e.n(a),o=e(8),s=e(35),i=e.n(s),u=e(1);function l(t){var n=t.children;return Object(u.jsx)("div",{className:i.a.container,children:n})}var b=e(77),j=(e(52),function(){return Object(u.jsx)(b.a,{in:!0,appear:!0,timeout:500,classNames:"Title-SlideIn",unmountOnExit:!0,children:Object(u.jsx)("h1",{className:"Title",children:"Phonebook"})})}),f=e(3),d=e(36),m=e(37),O=e(41),h=e(40),p=(e(53),function(t){var n=t.message;return Object(u.jsx)(b.a,{in:n,timeout:250,classNames:"Notification-fade",unmountOnExit:!0,children:Object(u.jsx)("div",{className:"Overlay",children:Object(u.jsx)("p",{className:"Notification",children:n})})})}),x=e(13),C=e.n(x),g=e(24),v=e.n(g),_=e(38),N=e(15),y=e.n(N),F=e(2),S=Object(F.b)("contacts/fetchContactRequest"),k=Object(F.b)("contacts/fetchContactSuccess"),L=Object(F.b)("contacts/fetchContactError"),E=Object(F.b)("contacts/addContactRequest"),w=Object(F.b)("contacts/addContactSuccess"),A=Object(F.b)("contacts/addContactError"),B=Object(F.b)("contacts/deleteContactRequest"),M=Object(F.b)("contacts/deleteContactSuccess"),R=Object(F.b)("contacts/deleteContactError"),q=Object(F.b)("contacts/changeFilter"),D=Object(F.b)("contacts/clearError");y.a.defaults.baseURL="http://localhost:3000";var T,I,J,P={addContact:function(t,n){return function(){var e=Object(_.a)(v.a.mark((function e(c){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={name:t,number:n},c(E()),y.a.post("/contacts",a).then((function(t){var n=t.data;return c(w(n))})).catch((function(t){return c(A(t))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteContact:function(t){return function(n){n(B()),y.a.delete("/contacts/".concat(t)).then((function(){return n(M(t))})).catch((function(t){return n(R(t))}))}},fetchContacts:function(){return function(t){t(S()),y.a.get("/contacts").then((function(n){var e=n.data;return t(k(e))})).catch((function(n){return t(L(n))}))}}},z=e(18),H=function(t){return t.phoneBook.filter},U=function(t){return t.phoneBook.contacts},G={getFilter:H,getAllContacts:U,getLoading:function(t){return t.phoneBook.loading},getError:function(t){return t.phoneBook.error},getFilteredContactsList:Object(z.a)([U,H],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))}))},K=function(t){Object(O.a)(e,t);var n=Object(h.a)(e);function e(){var t;Object(d.a)(this,e);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))).state={name:"",number:"",message:null},t.setMessage=function(n){t.setState({message:n}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleSubmit=function(n){var e=t.state,c=e.name,a=e.number;n.preventDefault(),""!==c?""!==a?t.props.contacts.find((function(t){return t.name.toLowerCase()===c.toLowerCase()}))?t.setMessage("Contact already exists!"):(t.props.onSubmit(c,a),t.setState({name:"",number:""})):t.setMessage("Enter concact phone, please!"):t.setMessage("Enter contact name, please!")},t.handleChange=function(n){var e=n.target,c=e.name,a=e.value;t.setState(Object(f.a)({},c,a))},t}return Object(m.a)(e,[{key:"render",value:function(){var t=this.state,n=t.name,e=t.number,c=t.message;return Object(u.jsxs)("div",{className:C.a.container,children:[Object(u.jsx)(p,{message:c}),Object(u.jsxs)("form",{className:C.a.form,onSubmit:this.handleSubmit,children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{className:C.a.input,type:"text",value:n,name:"name",placeholder:"Name",onChange:this.handleChange})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{className:C.a.input,type:"tel",value:e,name:"number",placeholder:"+380",onChange:this.handleChange})}),Object(u.jsx)("button",{className:C.a.btn,type:"submit",children:"Add contact"})]})]})}}]),e}(c.Component),Q=Object(o.b)((function(t){return{contacts:G.getAllContacts(t)}}),(function(t){return{onSubmit:function(n,e){return t(P.addContact(n,e))}}}))(K),V=e(14),W=e.n(V),X=e(78),Y=(e(73),Object(o.b)((function(t){return{contacts:G.getFilteredContactsList(t)}}),(function(t){return{onDelete:function(n){return t(P.deleteContact(n))},clearFilter:function(){return t(q(""))}}}))((function(t){var n=t.contacts,e=t.onDelete,c=t.clearFilter;return Object(u.jsx)(X.a,{component:"ul",className:W.a.list,children:n.map((function(t){var n=t.id,a=t.name,r=t.number;return Object(u.jsx)(b.a,{timeout:250,classNames:"List-slideIn",unmountOnExit:!0,children:Object(u.jsxs)("li",{className:W.a.contact,children:[Object(u.jsx)("span",{className:W.a.name,children:a}),Object(u.jsx)("span",{className:W.a.number,children:r}),Object(u.jsx)("button",{className:W.a.btn,onClick:function(){e(n,c())},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",children:"Delete"})]})},n)}))})}))),Z=(e(74),Object(o.b)((function(t){return{value:G.getFilter(t),contacts:G.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(n){return t(q(n.target.value))}}}))((function(t){var n=t.value,e=t.onChangeFilter,c=t.contacts;return Object(u.jsx)(b.a,{in:c.length>1,timeout:250,classNames:"Filter-fade",unmountOnExit:!0,children:Object(u.jsx)("form",{className:"form",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{className:"title",children:"Find contacts by name"}),Object(u.jsx)("input",{className:"input",type:"text",value:n,onChange:e})]})})})}))),$=Object(o.b)((function(t){return{contacts:t.phoneBook.contacts}}),null)((function(t){var n=t.contacts;return Object(u.jsxs)(l,{children:[Object(u.jsx)(j,{}),Object(u.jsx)(Q,{}),Object(u.jsx)(Z,{}),Object(u.jsx)(b.a,{in:n.length>0,timeout:0,unmountOnExit:!0,children:Object(u.jsx)(Y,{})})]})})),tt=e(19),nt=e(39),et=e.n(nt),ct=e(4),at=[],rt=!1,ot=null,st=Object(F.c)(at,(T={},Object(f.a)(T,k,(function(t,n){return n.payload})),Object(f.a)(T,w,(function(t,n){var e=n.payload;return[].concat(Object(tt.a)(t),[e])})),Object(f.a)(T,M,(function(t,n){var e=n.payload;return t.filter((function(t){return t.id!==e}))})),T)),it=Object(F.c)(rt,(I={},Object(f.a)(I,S,(function(){return!0})),Object(f.a)(I,k,(function(){return!1})),Object(f.a)(I,L,(function(){return!1})),Object(f.a)(I,E,(function(){return!0})),Object(f.a)(I,w,(function(){return!1})),Object(f.a)(I,A,(function(){return!1})),Object(f.a)(I,B,(function(){return!0})),Object(f.a)(I,M,(function(){return!1})),Object(f.a)(I,R,(function(){return!1})),I)),ut=Object(F.c)("",Object(f.a)({},q,(function(t,n){return n.payload}))),lt=Object(F.c)(ot,(J={},Object(f.a)(J,L,(function(t,n){return n.payload})),Object(f.a)(J,A,(function(t,n){return n.payload})),Object(f.a)(J,R,(function(t,n){return n.payload})),Object(f.a)(J,D,(function(){return null})),J)),bt=Object(ct.c)({contacts:st,filter:ut,loading:it,error:lt}),jt=e(10),ft=[].concat(Object(tt.a)(Object(F.d)({serializableCheck:{ignoredActions:[jt.a,jt.f,jt.b,jt.c,jt.d,jt.e]}})),[et.a]),dt=Object(F.a)({reducer:{phoneBook:bt},middleware:ft,devTools:!1});e(75);r.a.render(Object(u.jsx)(o.a,{store:dt,children:Object(u.jsx)($,{})}),document.querySelector("#root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.d9a189fb.chunk.js.map