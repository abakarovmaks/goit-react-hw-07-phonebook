(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={form:"ContactForm_form__2IF4m",input:"ContactForm_input__3dHde",btn:"ContactForm_btn__tShh_",container:"ContactForm_container__jcN59"}},14:function(t,e,n){t.exports={list:"ContactList_list__2cE9S",contact:"ContactList_contact__2n-Pp",name:"ContactList_name__2vs56",number:"ContactList_number__3h_Jg",btn:"ContactList_btn__2-jnR"}},39:function(t,e,n){t.exports={container:"Container_container__3e1Mh"}},52:function(t,e,n){},53:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(9),r=n.n(a),o=n(8),s=n(39),i=n.n(s),u=n(1);function l(t){var e=t.children;return Object(u.jsx)("div",{className:i.a.container,children:e})}var b=n(77),j=(n(52),function(){return Object(u.jsx)(b.a,{in:!0,appear:!0,timeout:500,classNames:"Title-SlideIn",unmountOnExit:!0,children:Object(u.jsx)("h1",{className:"Title",children:"Phonebook"})})}),f=n(3),d=n(19),m=n(20),O=n(23),h=n(22),p=n(2),C=Object(p.b)("contacts/fetchContactRequest"),x=Object(p.b)("contacts/fetchContactSuccess"),g=Object(p.b)("contacts/fetchContactError"),v=Object(p.b)("contacts/addContactRequest"),_=Object(p.b)("contacts/addContactSuccess"),N=Object(p.b)("contacts/addContactError"),y=Object(p.b)("contacts/deleteContactRequest"),k=Object(p.b)("contacts/deleteContactSuccess"),E=Object(p.b)("contacts/deleteContactError"),F=Object(p.b)("contacts/changeFilter"),S=Object(p.b)("contacts/clearError"),L=(n(53),n(18)),w=function(t){return t.phoneBook.filter},A=function(t){return t.phoneBook.contacts},B={getFilter:w,getAllContacts:A,getLoading:function(t){return t.phoneBook.loading},getError:function(t){return t.phoneBook.error},getFilteredContactsList:Object(L.a)([A,w],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},M=function(t){Object(O.a)(n,t);var e=Object(h.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.error&&setTimeout((function(){t.props.clearError()}),2500)}},{key:"render",value:function(){return Object(u.jsx)(b.a,{in:this.props.message,timeout:250,classNames:"Notification-fade",unmountOnExit:!0,children:Object(u.jsx)("div",{className:"Overlay",children:Object(u.jsx)("p",{className:"Notification",children:this.props.message})})})}}]),n}(c.Component),D=Object(o.b)((function(t){return{error:B.getError(t)}}),(function(t){return{clearError:function(){return t(S())}}}))(M),R=n(13),T=n.n(R),q=n(28),I=n.n(q),J=n(40),P=n(15),z=n.n(P);z.a.defaults.baseURL="http://localhost:3001";var H,U,G,K={addContact:function(t,e){return function(){var n=Object(J.a)(I.a.mark((function n(c){var a;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={name:t,number:e},c(v()),z.a.post("/contacts",a).then((function(t){var e=t.data;return c(_(e))})).catch((function(t){return c(N(t))}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},deleteContact:function(t){return function(e){e(y()),z.a.delete("/contacts/".concat(t)).then((function(){return e(k(t))})).catch((function(t){return e(E(t))}))}},fetchContacts:function(){return function(t){t(C()),z.a.get("/contacts").then((function(e){var n=e.data;return t(x(n))})).catch((function(e){return t(g(e))}))}}},Q=function(t){Object(O.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(d.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",message:null},t.setMessage=function(e){t.setState({message:e}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleSubmit=function(e){var n=t.state,c=n.name,a=n.number;e.preventDefault(),""!==c?""!==a?t.props.contacts.find((function(t){return t.name.toLowerCase()===c.toLowerCase()}))?t.setMessage("Contact already exists!"):(t.props.onSubmit(c,a),t.setState({name:"",number:""})):t.setMessage("Enter concact phone, please!"):t.setMessage("Enter contact name, please!")},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(f.a)({},c,a))},t}return Object(m.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.message;return Object(u.jsxs)("div",{className:T.a.container,children:[Object(u.jsx)(D,{message:c}),Object(u.jsxs)("form",{className:T.a.form,onSubmit:this.handleSubmit,children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{className:T.a.input,type:"text",value:e,name:"name",placeholder:"Name",onChange:this.handleChange})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{className:T.a.input,type:"tel",value:n,name:"number",placeholder:"+380",onChange:this.handleChange})}),Object(u.jsx)("button",{className:T.a.btn,type:"submit",children:"Add contact"})]})]})}}]),n}(c.Component),V=Object(o.b)((function(t){return{contacts:B.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(K.addContact(e,n))}}}))(Q),W=n(14),X=n.n(W),Y=n(78),Z=(n(73),Object(o.b)((function(t){return{contacts:B.getFilteredContactsList(t)}}),(function(t){return{onDelete:function(e){return t(K.deleteContact(e))},clearFilter:function(){return t(F(""))}}}))((function(t){var e=t.contacts,n=t.onDelete,c=t.clearFilter;return Object(u.jsx)(Y.a,{component:"ul",className:X.a.list,children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(u.jsx)(b.a,{timeout:250,classNames:"List-slideIn",unmountOnExit:!0,children:Object(u.jsxs)("li",{className:X.a.contact,children:[Object(u.jsx)("span",{className:X.a.name,children:a}),Object(u.jsx)("span",{className:X.a.number,children:r}),Object(u.jsx)("button",{className:X.a.btn,onClick:function(){n(e,c())},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",children:"Delete"})]})},e)}))})}))),$=(n(74),Object(o.b)((function(t){return{value:B.getFilter(t),contacts:B.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(F(e.target.value))}}}))((function(t){var e=t.value,n=t.onChangeFilter,c=t.contacts;return Object(u.jsx)(b.a,{in:c.length>1,timeout:250,classNames:"Filter-fade",unmountOnExit:!0,children:Object(u.jsx)("form",{className:"form",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{className:"title",children:"Find contacts by name"}),Object(u.jsx)("input",{className:"input",type:"text",value:e,onChange:n})]})})})}))),tt=Object(o.b)((function(t){return{contacts:t.phoneBook.contacts}}),null)((function(t){var e=t.contacts;return Object(u.jsxs)(l,{children:[Object(u.jsx)(j,{}),Object(u.jsx)(V,{}),Object(u.jsx)($,{}),Object(u.jsx)(b.a,{in:e.length>0,timeout:0,unmountOnExit:!0,children:Object(u.jsx)(Z,{})})]})})),et=n(21),nt=n(41),ct=n.n(nt),at=n(4),rt=[],ot=!1,st=null,it=Object(p.c)(rt,(H={},Object(f.a)(H,x,(function(t,e){return e.payload})),Object(f.a)(H,_,(function(t,e){var n=e.payload;return[].concat(Object(et.a)(t),[n])})),Object(f.a)(H,k,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),H)),ut=Object(p.c)(ot,(U={},Object(f.a)(U,C,(function(){return!0})),Object(f.a)(U,x,(function(){return!1})),Object(f.a)(U,g,(function(){return!1})),Object(f.a)(U,v,(function(){return!0})),Object(f.a)(U,_,(function(){return!1})),Object(f.a)(U,N,(function(){return!1})),Object(f.a)(U,y,(function(){return!0})),Object(f.a)(U,k,(function(){return!1})),Object(f.a)(U,E,(function(){return!1})),U)),lt=Object(p.c)("",Object(f.a)({},F,(function(t,e){return e.payload}))),bt=Object(p.c)(st,(G={},Object(f.a)(G,g,(function(t,e){return e.payload})),Object(f.a)(G,N,(function(t,e){return e.payload})),Object(f.a)(G,E,(function(t,e){return e.payload})),Object(f.a)(G,S,(function(){return null})),G)),jt=Object(at.c)({contacts:it,filter:lt,loading:ut,error:bt}),ft=n(10),dt=[].concat(Object(et.a)(Object(p.d)({serializableCheck:{ignoredActions:[ft.a,ft.f,ft.b,ft.c,ft.d,ft.e]}})),[ct.a]),mt=Object(p.a)({reducer:{phoneBook:jt},middleware:dt,devTools:!1});n(75);r.a.render(Object(u.jsx)(o.a,{store:mt,children:Object(u.jsx)(tt,{})}),document.querySelector("#root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.ef68599a.chunk.js.map